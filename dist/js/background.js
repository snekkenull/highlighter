(()=>{"use strict";chrome.runtime.onInstalled.addListener((t=>{"install"===t.reason&&chrome.runtime.openOptionsPage()})),chrome.runtime.onMessage.addListener(((t,e,i)=>{if("getSettings"===t.type)return chrome.storage.sync.get(["highlightSettings","whitelist"],(t=>{i(t)})),!0})),chrome.tabs.onUpdated.addListener((async(t,e,i)=>{if("complete"===e.status&&i.url?.startsWith("http"))try{const{whitelist:e=[]}=await chrome.storage.sync.get({whitelist:[]}),s=i.url&&e.includes(new URL(i.url).hostname);await chrome.scripting.executeScript({target:{tabId:t},files:["content.js"]}),s&&await chrome.tabs.sendMessage(t,{action:"toggleHighlight"})}catch(t){console.error("Error initializing tab:",t)}}))})();
//# sourceMappingURL=background.js.map